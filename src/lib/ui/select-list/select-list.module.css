@tailwind components;

@layer components {
  .button {
    outline: none;
  }
  .selected {
    padding: theme(spacing.3) var(--start-padding);
    background: transparent;
    @apply text-base;
    &:where(:empty):after {
      content: '\200b';
    }
  }
  .listbox {
    border-radius: theme('borderRadius.md');
    background-color: theme('colors.surface-container-high');
    box-shadow: theme('boxShadow.3');
    margin: 0;
    padding: theme('spacing.1');
    overflow-y: auto;
    scrollbar-color: theme('colors.outline/0.5') transparent;
    max-height: theme('spacing.60');
    &:empty {
      display: none;
    }
  }
  .option {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    flex-shrink: 0;
    cursor: default;
    user-select: none;
    border-radius: calc(theme('borderRadius.md') - theme('borderRadius.sm'));
    color: theme('colors.on-background');
    background: transparent;
    line-height: 1;
    padding-inline: theme('spacing.10') theme('spacing.3');
    transition: background-color 100ms ease-in;
    outline: none;
    min-height: theme('spacing.10');
    padding-block: theme('spacing.2');

    @apply text-sm;

    &:where(:hover, :focus, [aria-selected='true'], [aria-current='true']) {
      background-color: theme('colors.on-surface/0.08');
    }
    &:where(:active, [data-focused='true'], [data-highlighted]) {
      background-color: theme('colors.on-surface/0.08');
    }
    &:where(:disabled, [aria-disabled='true']) {
      /* background-color: theme('colors.disabled');
      color: theme('colors.on-disabled'); */
      cursor: not-allowed;
      pointer-events: none;
    }
    &:before {
      position: absolute;
      top: calc(50% - theme('spacing.5') / 2);
      left: theme('spacing.2');
      width: theme('spacing.5');
      height: theme('spacing.5');
      border-radius: theme('spacing.5');
      align-content: center;
      content: url(data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20256%20256%22%3E%3Cpolyline%20points=%2240%20144%2096%20200%20224%2072%22%20fill=%22none%22%20stroke=%22currentColor%22%20stroke-linecap=%22round%22%20stroke-linejoin=%22round%22%20stroke-width=%2220%22/%3E%3C/svg%3E);
      display: none;
    }
    &:where(:checked, [class*='\:checked']) {
      &:before {
        display: block;
      }
    }

    & + .option:not(:first-child):not(:last-child) {
      border-radius: 0;
    }
    &:first-child:not(:only-child) {
      border-end-start-radius: 0;
      border-end-end-radius: 0;
    }
    &:last-child:not(:only-child) {
      border-start-start-radius: 0;
      border-start-end-radius: 0;
    }
  }
}
