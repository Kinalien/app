@tailwind components;

@layer components {
  .wrapper {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    gap: theme(spacing.2);
    width: calc(100% + theme('spacing.4') * 2);
    overflow: auto;

    @apply scrollbar-none -mx-4 snap-x snap-mandatory scroll-px-4 px-4;
  }

  .card {
    flex-basis: 8rem;
    scroll-snap-align: start;
    &:last-of-type {
      scroll-snap-align: end;
    }
    &:has(input:checked) {
      flex-basis: 9rem;
    }
  }

  .genderSwitch {
    &:has(input[value='male']:checked) {
      & .genderSwitchLabel:has(input[value='male']) {
        color: theme('colors.tertiary');
        background-color: theme('colors.tertiary/0.08');
        border-color: theme('colors.tertiary');
      }
      & .genderIcon {
        color: theme('colors.tertiary');
        & [data-male] {
          opacity: 1;
        }
        & [data-female] {
          opacity: 0;
          transform: rotate(-25deg);
        }
      }
    }

    &:has(input[value='female']:checked) {
      & .genderSwitchLabel:has(input[value='female']) {
        color: theme('colors.primary');
        background-color: theme('colors.primary/0.08');
        border-color: theme('colors.primary');
      }
      & .genderIcon {
        color: theme('colors.primary');
        & [data-female] {
          opacity: 1;
        }
        & [data-male] {
          opacity: 0;
          transform: rotate(25deg);
        }
      }
    }
  }

  .genderSwitchLabel {
    &:where(:hover) {
      background-color: theme('colors.on-surface/0.05');
    }
    &:where(:has(:focus-visible):focus-within) {
      outline: 2px auto currentColor;
      outline-offset: 4px;
    }
  }

  .genderWrapper {
    &:has(.genderSwitchInput:checked) {
      & .genderIcon {
        & circle {
          transform: none;
        }
      }
    }
  }

  .genderSwitchInput {
    @apply sr-only;
  }

  .genderIcon {
    & g {
      transform-origin: center;
      opacity: 0;
      transition: all 0.3s ease-out;
    }
    & circle {
      transform-origin: center;
      transform: scale(0.2);
      transition: transform 0.2s ease-out;
    }
  }
}
