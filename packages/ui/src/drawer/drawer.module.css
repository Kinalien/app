/* Avoid consumers overriding this for all states with e.g. display: flex */

@layer nou-ui {
  .drawer {
    pointer-events: all;
    padding: theme("spacing.2") theme("spacing.4") theme("spacing.4");

    &:focus-visible {
      outline: 2px auto theme("colors.on-surface");
      outline-offset: -2px;
    }
  }

  @media not all and (min-width: theme("screens[sm]")) {
    .drawer {
      position: fixed;
      inset-block: auto theme("spacing.2");
      inset-inline: theme("spacing.2");
      margin: 0;
      height: max-content;
      width: calc(100% - theme("spacing.2") * 2);
      max-height: 100svh;
      opacity: 1;
      transform: none;
    }
    .drawer:not(:popover-open) {
      transform: translate3d(0, 100%, 0);
    }

    @starting-style {
      .drawer:popover-open {
        transform: translate3d(0, 100%, 0);
      }
    }
  }
}
