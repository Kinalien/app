@tailwind utilities;

@layer nou-ui {
  .list {
    &:is(:hover, :focus, :focus-within) > .toast {
      inset-block-start: anchor(end);
      translate: 0;
      scale: 1;
    }
  }

  .toast {
    transition:
      inset 0.14s ease,
      0.3s allow-discrete;
    transition-property: opacity, display, inset, translate, scale;
    position: absolute;
    inset-block-start: anchor(start, 0);
    /* use padding instead of positioning to allow hover to remain stable for multiple toasts */
    padding: theme("spacing[1]") theme("spacing[3]");
    backdrop-filter: blur(2px);
    border-radius: theme(borderRadius.2xl);

    &:nth-of-type(1) {
      inset-block-start: 0;
      z-index: 4;

      @apply animate-in duration-300 slide-in-from-top-8 fade-in-0 fill-mode-forwards;
    }
    /* &:not(:nth-of-type(1)) > * > * {
      opacity: 0;
    } */
    &:nth-of-type(2) {
      z-index: 3;
      scale: 0.9;
      translate: 0 theme(spacing.4);
    }
    &:nth-of-type(3) {
      z-index: 2;
      scale: 0.85;
      translate: 0 calc(2 * theme(spacing.4));
    }
    &:nth-of-type(4) {
      z-index: 1;
      scale: 0.8;
      translate: 0 calc(3 * theme(spacing.4));
    }
    &:nth-child(n + 5) {
      opacity: 0;
      display: none;
      scale: 0.75;
      translate: 0 calc(4 * theme(spacing.4));
    }
  }
}
